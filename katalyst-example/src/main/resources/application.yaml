# Katalyst Example Application - Base Configuration
# This file is committed to git and contains:
# - Default values for all environments
# - Configuration structure documentation
# - Public, non-sensitive defaults
#
# Secrets are provided via environment variables:
# - ${DB_PASSWORD} → resolved from KATALYST_EXAMPLE_DB_PASSWORD env var
# - ${JWT_SECRET} → resolved from JWT_SECRET env var

ktor:
  application:
    modules:
      - com.ead.katalyst.example.ApplicationKt.module
  deployment:
    port: ${SERVER_PORT:808}

# Database Configuration
# Environment variables: DB_URL, DB_USERNAME, DB_PASSWORD, DB_DRIVER
database:
  url: ${DB_URL:jdbc:postgresql://localhost:5432/postgres}
  username: ${DB_USERNAME:postgres}
  password: ${DB_PASSWORD:}
  driver: ${DB_DRIVER:org.postgresql.Driver}
  pool:
    maxSize: ${DB_MAX_POOL:10}
    minIdle: ${DB_MIN_IDLE:1}
    connectionTimeout: ${DB_TIMEOUT:30000}
    idleTimeout: ${DB_IDLE_TIMEOUT:600000}
    maxLifetime: ${DB_MAX_LIFETIME:1800000}

# JWT Configuration
# Environment variables: JWT_SECRET, JWT_ISSUER, JWT_AUDIENCE, JWT_REALM, JWT_EXPIRATION
jwt:
  secret: ${JWT_SECRET:local-secret-for-development-only}
  issuer: ${JWT_ISSUER:katalyst-example}
  audience: ${JWT_AUDIENCE:katalyst-users}
  realm: ${JWT_REALM:KatalystExample}
  expirationSeconds: ${JWT_EXPIRATION:3600}

# Application Environment
# Used by validators to apply environment-specific rules
app:
  environment: ${APP_ENVIRONMENT:development}
  debug: ${APP_DEBUG:true}
